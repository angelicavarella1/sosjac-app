import{_ as p,c as n,a as t,t as r,F as m,h as c,g as u,o as l,i as x,n as h,d}from"./index-Clg86yTR.js";import{_ as b}from"./favicon-Bhvs0SYa.js";const f={data(){return{user:null,reports:[]}},async mounted(){const{data:o}=await u.auth.getUser();if(this.user=o.user,!this.user)return this.$router.push("/login");const{data:e}=await u.from("denuncia").select("*").eq("email_usuario",this.user.email).order("created_at",{ascending:!1});this.reports=e},methods:{statusColor(o){return o==="resolvido"?"green":o==="em_andamento"?"orange":"red"},async handleLogout(){await u.auth.signOut(),this.$router.push("/login")}}},w={class:"bg-blue-800 text-white shadow-lg px-6 py-4 fixed top-0 left-0 right-0 z-50 flex items-center justify-between"},y={class:"flex items-center space-x-4"},_={class:"text-sm"},v={class:"min-h-screen bg-blue-900 pt-24 pb-8 px-6 text-white"},k={class:"text-right mb-6"},C={class:"max-w-4xl mx-auto bg-white rounded-2xl shadow-xl p-8"},S={key:0,class:"text-center py-8"},D={key:1,class:"space-y-6"},L={class:"text-lg font-semibold text-gray-800"},V=["src"],B=["onClick"];function N(o,e,O,$,a,i){var g;return l(),n(m,null,[t("header",w,[e[2]||(e[2]=t("div",{class:"flex items-center"},[t("img",{src:b,alt:"Logo SOSJAC",class:"w-8 h-8 mr-3"}),t("h1",{class:"text-xl font-bold"},"SOSJAC")],-1)),e[3]||(e[3]=t("h2",{class:"text-lg font-semibold flex-1 text-center"},"📌 Minhas Denúncias",-1)),t("div",y,[t("span",_,"Olá, "+r((g=a.user)==null?void 0:g.email),1),t("button",{onClick:e[0]||(e[0]=(...s)=>i.handleLogout&&i.handleLogout(...s)),class:"bg-red-600 hover:bg-red-500 text-white text-sm px-3 py-1 rounded-lg"}," Sair ")])]),t("main",v,[t("div",k,[t("button",{onClick:e[1]||(e[1]=s=>o.$router.back()),class:"flex items-center space-x-2 ml-auto px-6 py-3 bg-blue-700 hover:bg-blue-600 text-white rounded-xl shadow-lg transition-transform duration-200 transform hover:scale-105 font-semibold"},[...e[4]||(e[4]=[t("span",null,"←",-1),t("span",null,"Voltar",-1)])])]),t("div",C,[e[10]||(e[10]=t("h2",{class:"text-2xl font-bold text-gray-800 mb-6"},"📌 Minhas Denúncias",-1)),a.reports.length===0?(l(),n("div",S,[...e[5]||(e[5]=[t("p",{class:"text-gray-500"},"Nenhuma denúncia encontrada.",-1)])])):(l(),n("div",D,[(l(!0),n(m,null,c(a.reports,s=>(l(),n("div",{key:s.id,class:"border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow"},[t("h3",L,r(s.titulo),1),t("p",null,[e[6]||(e[6]=t("strong",null,"Status:",-1)),t("span",{style:h({color:i.statusColor(s.status)}),class:"font-medium"},r(s.status),5)]),t("p",null,[e[7]||(e[7]=t("strong",null,"Categoria:",-1)),d(" "+r(s.categoria),1)]),t("p",null,[e[8]||(e[8]=t("strong",null,"Descrição:",-1)),d(" "+r(s.descricao),1)]),t("p",null,[e[9]||(e[9]=t("strong",null,"Data:",-1)),d(" "+r(new Date(s.created_at).toLocaleString("pt-BR")),1)]),s.url_foto?(l(),n("img",{key:0,src:s.url_foto,alt:"Foto da denúncia",class:"mt-4 rounded-lg max-w-full shadow"},null,8,V)):x("",!0),t("button",{onClick:F=>o.$router.push("/denuncia/"+s.id),class:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition"}," Ver detalhes ",8,B)]))),128))]))])])],64)}const A=p(f,[["render",N]]);export{A as default};
